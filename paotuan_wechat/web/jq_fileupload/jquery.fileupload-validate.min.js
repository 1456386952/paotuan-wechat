(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./jquery.fileupload-process"],a)}else{a(window.jQuery)}}(function(a){a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:true,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(b,f){if(f.disabled){return b}var c=a.Deferred(),g=this.options,d=b.files[b.index],e;if(f.minFileSize||f.maxFileSize){e=d.size}if(a.type(f.maxNumberOfFiles)==="number"&&(g.getNumberOfFiles()||0)+b.files.length>f.maxNumberOfFiles){d.error=g.i18n("maxNumberOfFiles")}else{if(f.acceptFileTypes&&!(f.acceptFileTypes.test(d.type)||f.acceptFileTypes.test(d.name))){d.error=g.i18n("acceptFileTypes")}else{if(e>f.maxFileSize){d.error=g.i18n("maxFileSize")}else{if(a.type(e)==="number"&&e<f.minFileSize){d.error=g.i18n("minFileSize")}else{delete d.error}}}}if(d.error||b.files.error){b.files.error=true;c.rejectWith(this,[b])}else{c.resolveWith(this,[b])}return c.promise()}}})}));